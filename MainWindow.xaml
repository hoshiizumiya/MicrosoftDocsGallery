<?xml version="1.0" encoding="utf-8" ?>
<Window
    x:Class="MicrosoftDocsGallery.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:MicrosoftDocsGallery"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="Microsoft Docs Gallery"
    mc:Ignorable="d">

    <Window.SystemBackdrop>
        <MicaBackdrop />
    </Window.SystemBackdrop>
    <Grid>

        <Grid.RowDefinitions>
            <!--  TitleBar and NavView  -->
            <RowDefinition Height="auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <NavigationView
            x:Name="nav"
            Grid.Row="1"
            HighContrastAdjustment="None"
            IsBackButtonVisible="Collapsed"
            IsPaneToggleButtonVisible="False"
            IsSettingsVisible="False"
            ItemInvoked="NavigationView_ItemInvoked"
            Loaded="Page_Loaded"
            Style="{StaticResource MainNavigationViewStyle}">
            <NavigationView.MenuItems>
                <NavigationViewItem
                    Content="Home"
                    Icon="Home"
                    Tag="home" />
                <NavigationViewItem
                    Content="Fundamentals"
                    Icon="Library"
                    Tag="fundamentals" />
                <NavigationViewItem Content="Docs" Tag="webview">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE7BE;" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="FavoriteList" Tag="fav">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE728;" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="Welcome" Tag="welcome">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xF133;" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
            </NavigationView.MenuItems>

            <NavigationView.FooterMenuItems>
                <NavigationViewItem
                    Content="Contribute"
                    SelectsOnInvoked="False"
                    Tag="Contribute">
                    <NavigationViewItem.Icon>
                        <ImageIcon Opacity="0.6" Source="{ThemeResource GitHubIconImage}" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem
                    Content="Settings"
                    Icon="Setting"
                    Tag="Settings" />
            </NavigationView.FooterMenuItems>

            <NavigationView.Content>
                <Frame
                    x:Name="mainFrame"
                    Grid.Row="0"
                    Grid.Column="0"
                    Navigated="mainFrame_Navigated" />
            </NavigationView.Content>
        </NavigationView>

        <TitleBar
            x:Name="AppTitleBar"
            Title="{StaticResource AppTitleName}"
            Height="48"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Top"
            BackRequested="nav_BackRequested"
            IsBackButtonVisible="{x:Bind mainFrame.CanGoBack, Mode=OneWay}">
            <TitleBar.LeftHeader>
                <Image
                    x:Name="HeadLogo"
                    Width="16"
                    Margin="16,0,0,0"
                    AutomationProperties.AccessibilityView="Raw"
                    Source="ms-appx:///Assets/microsoft-color.svg" />
            </TitleBar.LeftHeader>
            <TitleBar.Content>
                <AutoSuggestBox
                    x:Name="SearchBox"
                    MinWidth="364"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Center"
                    PlaceholderText="Search samples, APIs.."
                    QueryIcon="Find"
                    QuerySubmitted="SearchBox_QuerySubmitted"
                    TextChanged="SearchBox_TextChanged"
                    UpdateTextOnSelect="False" />
            </TitleBar.Content>
        </TitleBar>
    </Grid>
</Window>
